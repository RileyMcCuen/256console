(this.webpackJsonp256console=this.webpackJsonp256console||[]).push([[0],{33:function(e,t){},495:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),o=a(25),c=a.n(o),s=(a(75),a(15)),u=a(14),l=a(6),p=a(4),m=a(8),f=a(7),d=(a(76),a(3)),h=a.n(d),v=a(9),y=a(12),b=a(13),j=a.n(b),E="https://2ykopq1oha.execute-api.us-east-1.amazonaws.com/PROD";!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(n||(n={}));var g,k=null;!function(e){e[e.Bool=0]="Bool",e[e.Num=1]="Num",e[e.Str=2]="Str"}(g||(g={}));var O=function(){function e(t,a,n,r){Object(l.a)(this,e),this.name=void 0,this.prefix=void 0,this.metaDataKeyName=void 0,this.metaDataType=void 0,this.name=t,this.prefix=a,this.metaDataKeyName=n,this.metaDataType=r}return Object(p.a)(e,null,[{key:"getPrefixFromPK",value:function(t){return e.parsePrefixRegEx.exec(t)[1]}}]),Object(p.a)(e,[{key:"getName",value:function(){return this.name}},{key:"getMetaDataKeyName",value:function(){return this.metaDataKeyName}},{key:"getMetaDataType",value:function(){return this.metaDataType}},{key:"toMetaDataFromData",value:function(e){return this.toMetaData(e[this.name])}},{key:"toMetaData",value:function(t){return e.parseDataRegEx.exec(t)[1]}},{key:"toString",value:function(e){return"#".concat(this.prefix,":").concat(e)}}]),e}();O.parsePrefixRegEx=/^#([a-zA-Z0-9_.]+):/,O.parseDataRegEx=/^#[a-zA-Z0-9_.]+:([a-zA-Z0-9_.]+)/;var N=function(){function e(t,a,n,r){if(Object(l.a)(this,e),this.name=void 0,this.prefix=void 0,this.metaDataKeyNames=void 0,this.metaDataTypes=void 0,!e.prefixRegEx.test(a))throw new Error("Prefix is only allowed to take format: /([a-zA-Z0-9_.]+)/.");this.name=t,this.prefix=a,this.metaDataKeyNames=n,this.metaDataTypes=r}return Object(p.a)(e,null,[{key:"getPrefixFromSK",value:function(t){return e.parsePrefixRegEx.exec(t)[1]}}]),Object(p.a)(e,[{key:"getName",value:function(){return this.name}},{key:"getMetaDataKeyNames",value:function(){return this.metaDataKeyNames}},{key:"getMetaDataTypes",value:function(){return this.metaDataTypes}},{key:"toMetaDataFromData",value:function(e){return this.toMetaData(e[this.name])}},{key:"toMetaData",value:function(e){var t=this;if("#"===e[0]){var a=(e=e.slice(1)).split(":");if(a.length-1===this.metaDataKeyNames.length){var n=[];return a.forEach((function(e,a){a>0&&n.push({key:t.metaDataKeyNames[a-1],value:e})})),n}throw new Error("Provided key does not have the expected number of values.")}throw new Error("Provided key does not follow expected pattern. Missing '#' at front of string.")}},{key:"toString",value:function(e){var t="#".concat(this.prefix);return this.metaDataKeyNames.forEach((function(a){var n=""+e[a];if(void 0===n||null===n)throw new Error("Provided object must have a non-null value for every key in sort key metaData. This object was missing at least this key: ".concat(a,"."));if(-1!==n.indexOf(":")||-1!==n.indexOf("#"))throw new Error("Sort Key meta data cannot include # or : in it. This will ruin the invariant that allows the parser to work.");t+=":".concat(n)})),t}}]),e}();N.prefixRegEx=/([a-zA-Z0-9_.]+)/,N.parsePrefixRegEx=/^#([a-zA-Z0-9_.]+):/;var w=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,[{key:"convert",value:function(e,t){switch(t){case g.Str:return e;case g.Bool:return"true"===e.trim().toLowerCase();case g.Num:return Number(e)}}},{key:"construct",value:function(e){var t=this;Object.keys(e).forEach((function(a){t[a]=e[a]})),this[this.primaryKey().getMetaDataKeyName()]=this.convert(this.primaryKey().toMetaDataFromData(e),this.primaryKey().getMetaDataType()),this.sortKey().toMetaDataFromData(e).forEach((function(e,a){t[e.key]=t.convert(e.value,t.sortKey().getMetaDataTypes()[a])}))}},{key:"toDBForm",value:function(){var e=this,t={};return Object.keys(this).forEach((function(a){e.sortKey().getMetaDataKeyNames().includes(a)||e.primaryKey().getMetaDataKeyName()===a||(t[a]=e[a])})),j.a.Converter.marshall(t)}}]),e}(),x=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e,a.Name,a.PKName,a.SKName)).addEntity(S).addEntity(T),n}return Object(p.a)(a,[{key:"deleteEntity",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.delete(t.PKMeta,t.SKMeta));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEntity",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get(t.PKMeta,t.SKMeta));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProjectNames",value:function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.query("PKMeta = :pk AND begins_with(SKMeta, :skp)",{":pk":T.PK,":skp":"#"+T.sortKeyPrefix});case 2:return e.abrupt("return",e.sent.map((function(e){return new T(e)})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"incrementHITCount",value:function(){var e=Object(v.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(function(){function e(t,a,n,r){Object(l.a)(this,e),this.fetchClient=void 0,this.name=void 0,this.pkName=void 0,this.skName=void 0,this.entities=void 0,this.fetchClient=t,this.name=a,this.pkName=n,this.skName=r,this.entities=new Map}return Object(p.a)(e,[{key:"addEntity",value:function(e){var t=this.entities.get(e.primaryKeyPrefix);return void 0!==t&&null!==t||(t=new Map,this.entities.set(e.primaryKeyPrefix,t)),t.set(e.sortKeyPrefix,e),this}},{key:"getName",value:function(){return this.name}},{key:"getEntityConstructor",value:function(e,t){var a;return null===(a=this.entities.get(e))||void 0===a?void 0:a.get(t)}},{key:"getKeySchema",value:function(){return[{KeyType:"HASH",AttributeName:this.pkName},{KeyType:"RANGE",AttributeName:this.skName}]}},{key:"getAttributeDefinitions",value:function(){return[{AttributeName:this.pkName,AttributeType:"S"},{AttributeName:this.skName,AttributeType:"S"}]}},{key:"getKey",value:function(e,t){var a={};return a[this.pkName]=e,a[this.skName]=t,a}},{key:"fetchJSON",value:function(){var e=Object(v.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchClient.fetch(t,a);case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"exists",value:function(){var e=Object(v.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/db/tables",E+"/db/tables",t={method:n.GET,headers:{"Content-Type":"application/json"}},e.next=5,this.fetchJSON("https://2ykopq1oha.execute-api.us-east-1.amazonaws.com/PROD/db/tables",t);case 5:return a=e.sent,e.abrupt("return",-1!==a.TableNames.indexOf("CSE256-Data"));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/db/table",E+"/db/table",a={method:n.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify({TableName:this.getName(),Item:t.toDBForm()})},e.abrupt("return",this.fetchJSON("https://2ykopq1oha.execute-api.us-east-1.amazonaws.com/PROD/db/table",a));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){}},{key:"get",value:function(){var e=Object(v.a)(h.a.mark((function e(t,a){var r,i,o,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/db/table/get-item",E+"/db/table/get-item",r=this.getKey(t,a),i={method:n.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify({TableName:this.getName(),Key:j.a.Converter.marshall(r)})},e.t0=j.a.Converter,e.next=7,this.fetchJSON("https://2ykopq1oha.execute-api.us-east-1.amazonaws.com/PROD/db/table/get-item",i);case 7:if(e.t1=e.sent.Item,void 0!==(o=e.t0.unmarshall.call(e.t0,e.t1))){e.next=11;break}return e.abrupt("return",o);case 11:return c=this.getEntityConstructor(O.getPrefixFromPK(o[this.pkName]),N.getPrefixFromSK(o[this.skName])),e.abrupt("return",new c(o));case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(v.a)(h.a.mark((function e(t,a){var r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/db/table",E+"/db/table",r=this.getKey(t,a),i={method:n.DELETE,headers:{"Content-Type":"application/json"},body:JSON.stringify({TableName:this.getName(),Key:j.a.Converter.marshall(r)})},e.t0=console,e.next=7,this.fetchJSON("https://2ykopq1oha.execute-api.us-east-1.amazonaws.com/PROD/db/table",i);case 7:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"query",value:function(){var e=Object(v.a)(h.a.mark((function e(t,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/db/table/query",E+"/db/table/query",r={method:n.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify({TableName:this.getName(),KeyConditionExpression:t,ExpressionAttributeValues:j.a.Converter.marshall(a)})},e.next=5,this.fetchJSON("https://2ykopq1oha.execute-api.us-east-1.amazonaws.com/PROD/db/table/query",r);case 5:return e.abrupt("return",e.sent.Items.map((function(e){return j.a.Converter.unmarshall(e)})));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}());x.Name="CSE256-Data",x.PKName="PKMeta",x.SKName="SKMeta";var P=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).PKMeta=void 0,e.SKMeta=void 0,e}return a}(w),T=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(l.a)(this,a),e.ProjectName=a.ProjectName,(n=t.call(this)).ProjectName=void 0,n.Name=void 0,n.construct(e),n}return Object(p.a)(a,[{key:"primaryKey",value:function(){return a.primaryKey}},{key:"sortKey",value:function(){return a.sortKey}},{key:"sortKeyPrefix",get:function(){return a.sortKeyPrefix}}],[{key:"Create",value:function(e){return new a({PKMeta:a.PK,SKMeta:this.sortKey.toString({Name:e})})}}]),a}(P);T.ProjectName="ProjectName",T.primaryKeyPrefix="CLASS",T.sortKeyPrefix="PROJECT_NAME",T.PK="#"+T.primaryKeyPrefix+":"+T.ProjectName,T.primaryKey=new O(x.PKName,T.primaryKeyPrefix,"ProjectName",g.Str),T.sortKey=new N(x.SKName,T.sortKeyPrefix,["Name"],[g.Str,g.Num]);var C,S=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).WUSTLKey=void 0,n.ProjectName=void 0,n.Iteration=void 0,n.HITName=void 0,n.Cnt=void 0,n.AWSIDs=void 0,n.construct(e),n}return Object(p.a)(a,[{key:"primaryKey",value:function(){return a.primaryKey}},{key:"sortKey",value:function(){return a.sortKey}},{key:"sortKeyPrefix",get:function(){return a.sortKeyPrefix}}],[{key:"Create",value:function(e,t,n,r,i,o){return new a({PKMeta:this.primaryKey.toString(e),SKMeta:this.sortKey.toString({ProjectName:t,Iteration:n,HITName:r}),Cnt:i,AWSIDs:o})}}]),a}(P);S.primaryKeyPrefix="STUDENT",S.sortKeyPrefix="HIT",S.primaryKey=new O(x.PKName,S.primaryKeyPrefix,"WUSTLKey",g.Str),S.sortKey=new N(x.SKName,S.sortKeyPrefix,["ProjectName","Iteration","HITName"],[g.Str,g.Num,g.Str]),function(e){e[e.Unknown=0]="Unknown",e[e.Created=1]="Created",e[e.DoesNotExist=2]="DoesNotExist"}(C||(C={}));var K=function(e){var t=e.sort((function(e,t){return e.Name<t.Name?-1:1}));return{type:"UPDATE_PROJECTS",projects:t,currentProject:t[0]?t[0]:T.Create("No Projects Yet")}},D={updateDBStatus:function(e){return{type:"UPDATE_DB_STATUS",dbStatus:e}}},I=Object(y.b)((function(e){return{dbStatus:e.dbStatus}}),D)(function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"renderCheck",value:function(){var e=this;return i.a.createElement("button",{className:"status-update safe right",onClick:Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e.props,t.next=3,null===k||void 0===k?void 0:k.exists;case 3:if(!t.sent){t.next=7;break}t.t1=C.Created,t.next=8;break;case 7:t.t1=C.DoesNotExist;case 8:t.t2=t.t1,t.t0.updateDBStatus.call(t.t0,t.t2);case 10:case"end":return t.stop()}}),t)})))},"Check")}},{key:"status",value:function(){switch(this.props.dbStatus){case C.Unknown:return"The status is currently unknown. Would you like to check?";case C.Created:return"The database is created and awaiting requests.";case C.DoesNotExist:return"The database does not exist. You should initialize it if you would like to use it."}}},{key:"render",value:function(){return i.a.createElement("div",{className:"status-container"},this.renderCheck(),i.a.createElement("h2",null,"Database Status:"),i.a.createElement("p",{className:"status"},this.status()))}}]),a}(i.a.Component)),A={updateCurrentProject:function(e){return{type:"UPDATE_CURRENT_PROJECT",currentProject:e}},updateCurrentIteration:function(e){return{type:"UPDATE_CURRENT_ITERATION",currentIteration:e}}},R=Object(y.b)((function(e){return{projects:e.projects,iterations:e.iterations,currentProject:e.currentProject,currentIteration:e.currentIteration}}),A),M=R(function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"project-iteration-selector"},i.a.createElement("div",{className:"project-iteration-description"},"Project Name: Iteration"),i.a.createElement("div",null,i.a.createElement("select",{className:"project-selector",onChange:function(t){return e.props.updateCurrentProject(e.props.projects[e.props.projects.indexOf(T.Create(t.target.value))])}},this.props.projects.map((function(e,t){return i.a.createElement("option",{key:e.Name,value:e.Name},e.Name)}))),i.a.createElement("span",{className:"separator"},":"),i.a.createElement("select",{className:"iteration-selector",onChange:function(t){return e.props.updateCurrentIteration(parseInt(t.target.value))}},function(e,t){for(var a=[],n=0;n<e;n++)a.push(t(n));return a}(this.props.iterations,(function(e){return i.a.createElement("option",{key:e,value:e},e+1)})))))}}]),a}(i.a.Component)),U=a(19),H={loggedIn:!1,dbStatus:C.Unknown,projects:[],iterations:3,currentProject:T.Create(""),currentIteration:0,spiData:{},students:[]};var L=a(67),_=Object(U.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,a=function(t){return Object.assign({},e,t)};switch(t.type){case"LOGIN":var n=t;return a({loggedIn:n.loggedIn});case"LOGOUT":var r=t;return a({loggedIn:r.loggedIn});case"UPDATE_DB_STATUS":var i=t;return a({dbStatus:i.dbStatus});case"UPDATE_PROJECTS":var o=t;return a({projects:o.projects,currentProject:o.currentProject});case"UPDATE_ITERATIONS":var c=t;return a({iterations:c.iterations,currentIteration:c.iteration});case"UPDATE_CURRENT_PROJECT":var s=t;return a({currentProject:s.currentProject});case"UPDATE_CURRENT_ITERATION":var u=t;return a({currentIteration:u.currentIteration});case"UPDATE_SPI_DATA":var l=t;return a({spiData:l.spiData});case"UPDATE_STUDENTS":var p=t;return a({students:p.students});default:return e}}),Object(U.c)(Object(U.a)(L.a))),F={updateProjects:K},J=Object(y.b)((function(e){return{projects:e.projects}}),F),q=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).inputElem=i.a.createRef(),n.state={editing:!1,val:e.project},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("li",null,i.a.createElement("input",{type:"text",value:this.state.val,disabled:!this.state.editing,ref:this.inputElem,onChange:function(t){return e.setState({val:t.target.value})}}),i.a.createElement("button",{className:"danger",onClick:function(){return e.props.delete()}},"Delete"),i.a.createElement("button",{disabled:this.state.editing,onClick:function(){return e.setState({editing:!0})}},"Edit"),i.a.createElement("button",{disabled:!this.state.editing,onClick:function(){e.props.update(e.state.val),e.setState({editing:!1})}},"Save"),i.a.createElement("button",{disabled:!this.state.editing,onClick:function(){e.setState({val:e.props.project,editing:!1})}},"Cancel"))}}]),a}(i.a.Component),z=J(function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).newInput=i.a.createRef(),e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"status-container"},i.a.createElement("h2",null,"Current Projects:"),i.a.createElement("ul",{className:"projects"},this.props.projects.map((function(t,a){return i.a.createElement(q,{project:t.Name,delete:function(){_.dispatch(function(){var a=Object(v.a)(h.a.mark((function a(n){var r,i;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.Name,i=T.Create(r),a.prev=2,a.next=5,null===k||void 0===k?void 0:k.deleteEntity(i);case 5:n(e.props.updateProjects(e.props.projects.filter((function(e){return e.Name!==i.Name})))),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),alert("Could not delete project. Send error output to Riley or debug: ".concat(a.t0,"."));case 11:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}())},update:function(a){_.dispatch(function(){var n=Object(v.a)(h.a.mark((function n(r){var i,o,c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.Name,(o=T.Create(i)).Name!==a){n.next=4;break}return n.abrupt("return");case 4:return n.prev=4,c=T.Create(a),n.next=8,null===k||void 0===k?void 0:k.deleteEntity(o);case 8:return n.next=10,null===k||void 0===k?void 0:k.put(c);case 10:r(e.props.updateProjects([].concat(Object(u.a)(e.props.projects.filter((function(e){return e.Name!==o.Name}))),[c]))),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(4),alert("Could not update project. Send error output to Riley or debug: ".concat(n.t0,"."));case 16:case"end":return n.stop()}}),n,null,[[4,13]])})));return function(e){return n.apply(this,arguments)}}())},key:t.Name})})),i.a.createElement("li",null,i.a.createElement("input",{ref:this.newInput,type:"text",placeholder:"New Project Name"}),i.a.createElement("button",{onClick:function(){_.dispatch(function(){var t=Object(v.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.newInput.current||""===e.newInput.current.value.trim()){t.next=12;break}return t.prev=1,n=T.Create(e.newInput.current.value),t.next=5,null===k||void 0===k?void 0:k.put(n);case 5:a(e.props.updateProjects([].concat(Object(u.a)(e.props.projects),[n]))),e.newInput.current.value="",t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),alert("Could not add project. Send error output to Riley or debug: ".concat(t.t0,"."));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())}},"Add"))))}}]),a}(i.a.Component)),B=Object(y.b)((function(e){return{currentProject:e.currentProject,currentIteration:e.currentIteration,spiData:e.spiData,students:e.students}}),{})(function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).tableRef=i.a.createRef(),n.state={displayTable:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"table-container"},i.a.createElement("div",{className:"table-description"},i.a.createElement("button",{className:"right safe",onClick:function(){e.setState({displayTable:!e.state.displayTable})}},"Display"),i.a.createElement("h2",null,this.props.currentProject.Name," : ",this.props.currentIteration+1),i.a.createElement("p",null,"Below is the data collected for iteration [",this.props.currentIteration+1,"] of project [",this.props.currentProject.Name,"].")),i.a.createElement("table",{className:this.state.displayTable?"":"hide",ref:this.tableRef},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"WUSTL Key"),i.a.createElement("th",null,"HIT 1"),i.a.createElement("th",null,"HIT 1 Count"),i.a.createElement("th",null,"HIT 2"),i.a.createElement("th",null,"Hit 2 Count"),i.a.createElement("th",null,"HIT 3"),i.a.createElement("th",null,"Hit 3 Count"))),i.a.createElement("tbody",null,this.props.students.map((function(t,a){var n={name1:"none",name2:"none",name3:"none",count1:0,count2:0,count3:0},r=e.props.spiData[t.wustlKey];if(void 0!==r){var o=r[e.props.currentProject.Name];if(void 0!==o){var c=o[e.props.currentIteration];void 0!==c&&(n=c)}}return i.a.createElement("tr",{key:a},i.a.createElement("th",null,t.wustlKey),i.a.createElement("td",null,n.name1),i.a.createElement("td",null,n.count1),i.a.createElement("td",null,n.name2),i.a.createElement("td",null,n.count2),i.a.createElement("td",null,n.name3),i.a.createElement("td",null,n.count3))})))))}}]),a}(i.a.Component)),G=a(26),W=a(69),Z=a(175),Y="us-east-1:b69d4b85-5cd8-4a07-aabf-e730ede479d9";Z.config.region="us-east-1",Z.config.credentials=new Z.CognitoIdentityCredentials({IdentityPoolId:Y});var V,$=new G.c({UserPoolId:"us-east-1_B4YHaKqVR",ClientId:"15f397ambvh0db4i20usm454a0"}),Q=$.getCurrentUser(),X=null,ee=function(e){Z.config.credentials=new Z.CognitoIdentityCredentials({IdentityPoolId:Y,Logins:Object(s.a)({},"cognito-idp.".concat("us-east-1",".amazonaws.com/").concat("us-east-1_B4YHaKqVR"),e.getIdToken().getJwtToken())})},te=function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){Z.config.credentials.refresh((function(a){a&&t(a),X=new W.AwsClient({secretAccessKey:Z.config.credentials.secretAccessKey,accessKeyId:Z.config.credentials.accessKeyId,sessionToken:Z.config.credentials.sessionToken}),Z.config.credentials.expired,e(!0)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){if(null===X)throw new Error("AWS Fetch Client is null, cannot construct database connection.");!function(e){k=new x(e)}(X)},ne=function(){_.dispatch(function(){var e=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getProjectNames();case 3:a=e.sent,t(K(a)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},re=function(){var e=Object(v.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t||""===a){e.next=9;break}return console.log(Q),null===Q&&(Q=new G.b({Username:t,Pool:$})),n=new G.a({Username:t,Password:a}),e.next=6,new Promise((function(e,t){var r;null===(r=Q)||void 0===r||r.authenticateUser(n,{onSuccess:function(){var a=Object(v.a)(h.a.mark((function a(n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,ee(n),a.next=4,te();case 4:ae(),ne(),e(!0),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}(),onFailure:t,newPasswordRequired:function(n,r){var i;return null===(i=Q)||void 0===i?void 0:i.completeNewPasswordChallenge(a,r,{onSuccess:function(t){t,e(!0)},onFailure:t})}})}));case 6:return e.abrupt("return",e.sent);case 9:return e.next=11,new Promise((function(e,t){null!==Q?Q.getSession(function(){var a=Object(v.a)(h.a.mark((function a(n,r){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!r){a.next=16;break}return a.prev=1,ee(r),a.next=5,te();case 5:ae(),ne(),e(!0),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),t(a.t0);case 14:a.next=17;break;case 16:t(n);case 17:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()):t("No user session.")}));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q){e.next=4;break}return e.next=3,new Promise((function(e,t){try{var a;null===(a=Q)||void 0===a||a.signOut(),Q=null,null,X=null,e(!0)}catch(n){t(n)}}));case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe={login:function(){return{type:"LOGIN",loggedIn:!0}},logout:function(){return{type:"LOGOUT",loggedIn:!1}}},ce=Object(y.b)((function(e){return{}}),oe),se=ce(function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).usernameField=i.a.createRef(),n.passwordField=i.a.createRef(),re("","").then((function(e){e&&n.props.login()}),(function(e){})).catch((function(e){})),n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"login-container"},i.a.createElement("form",{onSubmit:function(){var t=Object(v.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!e.usernameField.current||!e.passwordField.current){t.next=6;break}return t.next=4,re(e.usernameField.current.value,e.passwordField.current.value);case 4:t.sent&&e.props.login();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},i.a.createElement("h1",null,"CSE 256 Console"),i.a.createElement("fieldset",null,i.a.createElement("label",null,"Username:"),i.a.createElement("input",{type:"text",placeholder:"Username...",ref:this.usernameField,autoComplete:"username"})),i.a.createElement("fieldset",null,i.a.createElement("label",null,"Password:"),i.a.createElement("input",{type:"password",placeholder:"Password...",ref:this.passwordField,autoComplete:"current-password"})),i.a.createElement("button",{className:"basic",type:"submit"}," Login ")))}}]),a}(i.a.Component)),ue=ce(function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("button",{className:"safe",onClick:Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie();case 2:if(!t.sent){t.next=4;break}e.props.logout();case 4:case"end":return t.stop()}}),t)})))}," Logout ")}}]),a}(i.a.Component)),le=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={display:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return this.props.display?i.a.createElement("div",{className:"button-with-description"},i.a.createElement("div",{className:"button-container"},i.a.createElement("button",{onClick:this.props.onClick,className:this.props.buttonClass},this.props.buttonTitle),i.a.createElement("button",{className:"info",onClick:function(){return e.setState({display:!e.state.display})}},"Info")),i.a.createElement("div",{className:this.state.display?"action-description":"action-description hide"},this.props.description)):null}}]),a}(i.a.Component),pe=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={index:0},n}return Object(p.a)(a,[{key:"display",value:function(e){this.setState({index:e})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:this.props.display?"tab":"tab hide"},i.a.createElement("div",{className:"tab-content"},i.a.createElement("div",{className:"sidebar"},[].concat(Object(u.a)(this.props.actions.map((function(t,a){return i.a.createElement("button",{className:a===e.state.index?"action active":"action",onClick:function(){return e.display(a)},key:a},t.name)}))),[i.a.createElement("div",{className:"sidebar-filler",key:this.props.actions.length}," ")])),i.a.createElement("div",{className:"output-container"},i.a.createElement("div",{className:"output"},this.props.children?this.props.children:null,this.props.actions.map((function(t,a){return i.a.createElement("div",{className:a===e.state.index?"component-wrapper":"component-wrapper hide",key:a},i.a.createElement("div",{className:"tab-header"},i.a.createElement("h1",null,t.name),i.a.createElement("p",{className:"description"},t.description)),t.component)}))))))}}]),a}(i.a.Component),me=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return i.a.createElement(pe,{display:this.props.display,actions:[{name:"Clear Database",description:"Deletes all data from the database that is specific to a semester. Retains login data and other non-semester specific data.",component:i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(le,{buttonTitle:"Clear Database",description:"Clicking this button will delete all data from the database that is not meant to be carried over. This includes: HIT assignments, Student ID to HIT ID mappings and more. Click this button once the semester is completely over and you are ready to clean out all of the old data.",buttonClass:"danger",onClick:function(){},display:!0})),i.a.createElement(I,null))},{name:"Change Projects",description:"Allows you to view and change projects for this course.",component:i.a.createElement(z,null)}]})}}]),a}(i.a.Component),fe=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return i.a.createElement(pe,{display:this.props.display,actions:[{name:"Generate HITs",description:"Generate HITs for each student. HITs will be generated based on current project and iteration as well as information about which HITs that they have had for previous iterations.",component:i.a.createElement("div",null,i.a.createElement("div",{className:"flex-actions"},i.a.createElement(le,{buttonTitle:"Generate",description:"This button will generate the HIT assignments for all students. Nothing that is already in the database will be changed, modified, or destroyed by this action. Use this button once for each iteration of each project. This will generate a set of HITs for each student to perform for the requested iteration.",buttonClass:"safe",onClick:function(){},display:!0}),i.a.createElement(le,{buttonTitle:"Regenerate",description:"",buttonClass:"safe",onClick:function(){},display:!1})),i.a.createElement(I,null),i.a.createElement(B,null))}]},i.a.createElement(M,null))}}]),a}(i.a.Component),de=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return i.a.createElement(pe,{display:this.props.display,actions:[]})}}]),a}(i.a.Component),he=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return i.a.createElement(pe,{display:this.props.display,actions:[{name:"Logout",description:"Use this to log out of the application.",component:i.a.createElement(ue,null)}]})}}]),a}(i.a.Component);!function(e){e.SemesterManagement="Semester Setup",e.HITManagement="Deploy",e.PostHITManagement="Post Deployment",e.SessionManagement="Session"}(V||(V={}));var ve=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).rs=new Array(Object.keys(V).length).fill((function(){return i.a.createRef()}),0,Object.keys(V).length).map((function(e){return e()})),n.state={currentActive:{index:0,navLocation:V.SemesterManagement}},n}return Object(p.a)(a,[{key:"updateActive",value:function(e,t){var a,n,r=this.state.currentActive;r.index!==e&&(null===(a=this.rs[r.index].current)||void 0===a||a.classList.remove("active"),null===(n=this.rs[e].current)||void 0===n||n.classList.add("active"),this.setState({currentActive:{index:e,navLocation:t}}),this.props.onUpdateActive(t))}},{key:"render",value:function(){var e=this;return i.a.createElement("nav",{className:"header"},[i.a.createElement("div",{className:"filler logo",key:-1},"CSE 256")].concat(Object(u.a)(this.rs.map((function(t,a){var n=a,r=Object.values(V)[n];return i.a.createElement("button",{ref:t,key:n,className:e.props.startNavLocation===r?"active":"",onClick:function(){return e.updateActive(n,r)}},r)})))))}}]),a}(i.a.Component),ye=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"footer"},i.a.createElement("div",{className:"attribution"},"Icons made by\xa0",i.a.createElement("a",{href:"https://www.flaticon.com/authors/google",title:"Google"},"Google"),"\xa0from\xa0",i.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")))}}]),a}(i.a.Component),be=Object(y.b)((function(e){return{loggedIn:e.loggedIn}}),{})(function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n,r;return Object(l.a)(this,a),(r=t.call(this,e)).rs=(n={},Object(s.a)(n,V.SemesterManagement,i.a.createRef()),Object(s.a)(n,V.HITManagement,i.a.createRef()),Object(s.a)(n,V.PostHITManagement,i.a.createRef()),Object(s.a)(n,V.SessionManagement,i.a.createRef()),n),r.state={navLocation:V.SemesterManagement},r}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return this.props.loggedIn?i.a.createElement("div",{className:"app"},i.a.createElement(ve,{startNavLocation:this.state.navLocation,onUpdateActive:function(t){return e.setState({navLocation:t})}}),i.a.createElement(me,{display:this.state.navLocation===V.SemesterManagement}),i.a.createElement(fe,{display:this.state.navLocation===V.HITManagement}),i.a.createElement(de,{display:this.state.navLocation===V.PostHITManagement}),i.a.createElement(he,{display:this.state.navLocation===V.SessionManagement}),i.a.createElement(ye,null)):i.a.createElement("div",{className:"app"},i.a.createElement(se,null))}}]),a}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(y.a,{store:_},i.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){e.exports=a(495)},75:function(e,t,a){},76:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.7efdc19f.chunk.js.map