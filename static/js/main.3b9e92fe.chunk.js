(this.webpackJsonp256console=this.webpackJsonp256console||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},40:function(e,t){},523:function(e,t){},525:function(e,t){},534:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(30),s=a.n(c),i=(a(100),a(18)),u=a(15),l=a(5),p=a(4),d=a(8),m=a(7),f=(a(101),a(31)),h=a(3),v=a.n(h),b=a(9),y=a(11),E=a(16),j=a.n(E),g="https://2ykopq1oha.execute-api.us-east-1.amazonaws.com/PROD";!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(n||(n={}));var k,N=null;!function(e){e[e.Bool=0]="Bool",e[e.Num=1]="Num",e[e.Str=2]="Str"}(k||(k={}));var O=function(){function e(t,a,n,r){Object(l.a)(this,e),this.name=void 0,this.prefix=void 0,this.metaDataKeyName=void 0,this.metaDataType=void 0,this.name=t,this.prefix=a,this.metaDataKeyName=n,this.metaDataType=r}return Object(p.a)(e,null,[{key:"getPrefixFromPK",value:function(t){return e.parsePrefixRegEx.exec(t)[1]}}]),Object(p.a)(e,[{key:"getName",value:function(){return this.name}},{key:"getMetaDataKeyName",value:function(){return this.metaDataKeyName}},{key:"getMetaDataType",value:function(){return this.metaDataType}},{key:"toMetaDataFromData",value:function(e){return this.toMetaData(e[this.name])}},{key:"toMetaData",value:function(t){return e.parseDataRegEx.exec(t)[1]}},{key:"toString",value:function(e){return"#".concat(this.prefix,":").concat(e)}}]),e}();O.parsePrefixRegEx=/^#([a-zA-Z0-9_.]+):/,O.parseDataRegEx=/^#[a-zA-Z0-9_.]+:([a-zA-Z0-9_.]+)/;var w=function(){function e(t,a,n,r){if(Object(l.a)(this,e),this.name=void 0,this.prefix=void 0,this.metaDataKeyNames=void 0,this.metaDataTypes=void 0,!e.prefixRegEx.test(a))throw new Error("Prefix is only allowed to take format: /([a-zA-Z0-9_.]+)/.");this.name=t,this.prefix=a,this.metaDataKeyNames=n,this.metaDataTypes=r}return Object(p.a)(e,null,[{key:"getPrefixFromSK",value:function(t){return e.parsePrefixRegEx.exec(t)[1]}}]),Object(p.a)(e,[{key:"getName",value:function(){return this.name}},{key:"getMetaDataKeyNames",value:function(){return this.metaDataKeyNames}},{key:"getMetaDataTypes",value:function(){return this.metaDataTypes}},{key:"toMetaDataFromData",value:function(e){return this.toMetaData(e[this.name])}},{key:"toMetaData",value:function(e){var t=this;if("#"===e[0]){var a=(e=e.slice(1)).split(":");if(a.length-1===this.metaDataKeyNames.length){var n=[];return a.forEach((function(e,a){a>0&&n.push({key:t.metaDataKeyNames[a-1],value:e})})),n}throw new Error("Provided key does not have the expected number of values.")}throw new Error("Provided key does not follow expected pattern. Missing '#' at front of string.")}},{key:"toString",value:function(e){var t="#".concat(this.prefix);return this.metaDataKeyNames.forEach((function(a){var n=""+e[a];if(void 0===n||null===n)throw new Error("Provided object must have a non-null value for every key in sort key metaData. This object was missing at least this key: ".concat(a,"."));if(-1!==n.indexOf(":")||-1!==n.indexOf("#"))throw new Error("Sort Key meta data cannot include # or : in it. This will ruin the invariant that allows the parser to work.");t+=":".concat(n)})),t}}]),e}();w.prefixRegEx=/([a-zA-Z0-9_.]+)/,w.parsePrefixRegEx=/^#([a-zA-Z0-9_.]+):/;var T=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,[{key:"convert",value:function(e,t){switch(t){case k.Str:return e;case k.Bool:return"true"===e.trim().toLowerCase();case k.Num:return Number(e)}}},{key:"construct",value:function(e){var t=this;Object.keys(e).forEach((function(a){t[a]=e[a]})),this[this.primaryKey().getMetaDataKeyName()]=this.convert(this.primaryKey().toMetaDataFromData(e),this.primaryKey().getMetaDataType()),this.sortKey().toMetaDataFromData(e).forEach((function(e,a){t[e.key]=t.convert(e.value,t.sortKey().getMetaDataTypes()[a])}))}},{key:"toDBForm",value:function(){var e=this,t={};return Object.keys(this).forEach((function(a){e.sortKey().getMetaDataKeyNames().includes(a)||e.primaryKey().getMetaDataKeyName()===a||(t[a]=e[a])})),j.a.Converter.marshall(t)}}]),e}(),x=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e,a.Name,a.PKName,a.SKName)).addEntity(S).addEntity(P),n}return Object(p.a)(a,[{key:"deleteEntity",value:function(){var e=Object(b.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.delete(t.PKMeta,t.SKMeta));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEntity",value:function(){var e=Object(b.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get(t.PKMeta,t.SKMeta));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProjectNames",value:function(){var e=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.query("PKMeta = :pk AND begins_with(SKMeta, :skp)",{":pk":P.PK,":skp":"#"+P.sortKeyPrefix});case 2:return e.abrupt("return",e.sent.map((function(e){return new P(e)})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"incrementHITCount",value:function(){var e=Object(b.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(function(){function e(t,a,n,r){Object(l.a)(this,e),this.fetchClient=void 0,this.name=void 0,this.pkName=void 0,this.skName=void 0,this.entities=void 0,this.fetchClient=t,this.name=a,this.pkName=n,this.skName=r,this.entities=new Map}return Object(p.a)(e,[{key:"addEntity",value:function(e){var t=this.entities.get(e.primaryKeyPrefix);return void 0!==t&&null!==t||(t=new Map,this.entities.set(e.primaryKeyPrefix,t)),t.set(e.sortKeyPrefix,e),this}},{key:"getName",value:function(){return this.name}},{key:"getEntityConstructor",value:function(e,t){var a;return null===(a=this.entities.get(e))||void 0===a?void 0:a.get(t)}},{key:"getKeySchema",value:function(){return[{KeyType:"HASH",AttributeName:this.pkName},{KeyType:"RANGE",AttributeName:this.skName}]}},{key:"getAttributeDefinitions",value:function(){return[{AttributeName:this.pkName,AttributeType:"S"},{AttributeName:this.skName,AttributeType:"S"}]}},{key:"getKey",value:function(e,t){var a={};return a[this.pkName]=e,a[this.skName]=t,a}},{key:"fetchJSON",value:function(){var e=Object(b.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchClient.fetch(t,a);case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"exists",value:function(){var e=Object(b.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/db/tables",g+"/db/tables",t={method:n.GET,headers:{"Content-Type":"application/json"}},e.next=5,this.fetchJSON("https://2ykopq1oha.execute-api.us-east-1.amazonaws.com/PROD/db/tables",t);case 5:return a=e.sent,e.abrupt("return",-1!==a.TableNames.indexOf("CSE256-Data"));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(b.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/db/table",g+"/db/table",a={method:n.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify({TableName:this.getName(),Item:t.toDBForm()})},e.abrupt("return",this.fetchJSON("https://2ykopq1oha.execute-api.us-east-1.amazonaws.com/PROD/db/table",a));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){}},{key:"get",value:function(){var e=Object(b.a)(v.a.mark((function e(t,a){var r,o,c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/db/table/get-item",g+"/db/table/get-item",r=this.getKey(t,a),o={method:n.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify({TableName:this.getName(),Key:j.a.Converter.marshall(r)})},e.t0=j.a.Converter,e.next=7,this.fetchJSON("https://2ykopq1oha.execute-api.us-east-1.amazonaws.com/PROD/db/table/get-item",o);case 7:if(e.t1=e.sent.Item,void 0!==(c=e.t0.unmarshall.call(e.t0,e.t1))){e.next=11;break}return e.abrupt("return",c);case 11:return s=this.getEntityConstructor(O.getPrefixFromPK(c[this.pkName]),w.getPrefixFromSK(c[this.skName])),e.abrupt("return",new s(c));case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(b.a)(v.a.mark((function e(t,a){var r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/db/table",g+"/db/table",r=this.getKey(t,a),o={method:n.DELETE,headers:{"Content-Type":"application/json"},body:JSON.stringify({TableName:this.getName(),Key:j.a.Converter.marshall(r)})},e.t0=console,e.next=7,this.fetchJSON("https://2ykopq1oha.execute-api.us-east-1.amazonaws.com/PROD/db/table",o);case 7:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"query",value:function(){var e=Object(b.a)(v.a.mark((function e(t,a){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/db/table/query",g+"/db/table/query",r={method:n.POST,headers:{"Content-Type":"application/json"},body:JSON.stringify({TableName:this.getName(),KeyConditionExpression:t,ExpressionAttributeValues:j.a.Converter.marshall(a)})},e.next=5,this.fetchJSON("https://2ykopq1oha.execute-api.us-east-1.amazonaws.com/PROD/db/table/query",r);case 5:return e.abrupt("return",e.sent.Items.map((function(e){return j.a.Converter.unmarshall(e)})));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}());x.Name="CSE256-Data",x.PKName="PKMeta",x.SKName="SKMeta";var C=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).PKMeta=void 0,e.SKMeta=void 0,e}return a}(T),P=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),e.ProjectName=a.ProjectName,(n=t.call(this)).ProjectName=void 0,n.Name=void 0,n.TaskTags=void 0,n.construct(e),void 0===n.TaskTags&&(n.TaskTags=[]),n}return Object(p.a)(a,[{key:"primaryKey",value:function(){return a.primaryKey}},{key:"sortKey",value:function(){return a.sortKey}},{key:"sortKeyPrefix",get:function(){return a.sortKeyPrefix}}],[{key:"Create",value:function(e,t){return new a({PKMeta:a.PK,SKMeta:this.sortKey.toString({Name:e}),TaskTags:t})}}]),a}(C);P.ProjectName="ProjectName",P.primaryKeyPrefix="CLASS",P.sortKeyPrefix="PROJECT_NAME",P.PK="#"+P.primaryKeyPrefix+":"+P.ProjectName,P.primaryKey=new O(x.PKName,P.primaryKeyPrefix,"ProjectName",k.Str),P.sortKey=new w(x.SKName,P.sortKeyPrefix,["Name"],[k.Str,k.Num]);var S=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).WUSTLKey=void 0,n.ProjectName=void 0,n.Iteration=void 0,n.HITName=void 0,n.Cnt=void 0,n.AWSIDs=void 0,n.construct(e),n}return Object(p.a)(a,[{key:"primaryKey",value:function(){return a.primaryKey}},{key:"sortKey",value:function(){return a.sortKey}},{key:"sortKeyPrefix",get:function(){return a.sortKeyPrefix}}],[{key:"Create",value:function(e,t,n,r,o,c){return new a({PKMeta:this.primaryKey.toString(e),SKMeta:this.sortKey.toString({ProjectName:t,Iteration:n,HITName:r}),Cnt:o,AWSIDs:c})}}]),a}(C);S.primaryKeyPrefix="STUDENT",S.sortKeyPrefix="HIT",S.primaryKey=new O(x.PKName,S.primaryKeyPrefix,"WUSTLKey",k.Str),S.sortKey=new w(x.SKName,S.sortKeyPrefix,["ProjectName","Iteration","HITName"],[k.Str,k.Num,k.Str]);var D,I=a(48),K=a.n(I),A=new(function(){function e(){Object(l.a)(this,e),this.accts={}}return Object(p.a)(e,[{key:"add",value:function(e,t,a){this.addAccount(e,new K.a.MTurk({region:"us-east-1",endpoint:"https://mturk-requester-sandbox.us-east-1.amazonaws.com",credentials:{accessKeyId:t,secretAccessKey:a}}))}},{key:"addAccount",value:function(e,t){this.accts[e]=t}},{key:"forp",value:function(e){var t=this;return Object.keys(this.accts).map((function(a){return e(a,t.accts[a])}))}},{key:"getAccountBalances",value:function(){var e=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.forp(function(){var e=Object(b.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){a.getAccountBalance((function(a,n){e(a?{wustlKey:t,balance:"Not Available."}:{wustlKey:t,balance:n.AvailableBalance?n.AvailableBalance:"Not Available."})}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}());!function(e){e[e.Unknown=0]="Unknown",e[e.Created=1]="Created",e[e.DoesNotExist=2]="DoesNotExist"}(D||(D={}));var R=function(e){var t=e.sort((function(e,t){return e.Name<t.Name?-1:1}));return{type:"UPDATE_PROJECTS",projects:t,currentProject:t[0]?t[0]:P.Create("No Projects Yet",[])}},M=function(e){return{type:"UPDATE_SPI_DATA",spiData:e}},U=function(e){return e.forEach((function(e){A.add(e.wustlKey,e.id,e.secret)})),{type:"UPDATE_STUDENTS",students:e}},_=function(){return function(){var e=Object(b.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Promise,e.next=4,A.getAccountBalances();case 4:return e.t1=e.sent,e.next=7,e.t0.all.call(e.t0,e.t1);case 7:a=e.sent,console.log(a),t({type:"UPDATE_BALANCES",accountBalances:a}),e.next=15;break;case 12:e.prev=12,e.t2=e.catch(0),console.log(e.t2);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},L={updateDBStatus:function(e){return{type:"UPDATE_DB_STATUS",dbStatus:e}}},H=Object(y.b)((function(e){return{dbStatus:e.dbStatus}}),L)(function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"renderCheck",value:function(){var e=this;return o.a.createElement("button",{className:"status-update safe right",onClick:Object(b.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e.props,t.next=3,null===N||void 0===N?void 0:N.exists;case 3:if(!t.sent){t.next=7;break}t.t1=D.Created,t.next=8;break;case 7:t.t1=D.DoesNotExist;case 8:t.t2=t.t1,t.t0.updateDBStatus.call(t.t0,t.t2);case 10:case"end":return t.stop()}}),t)})))},"Check")}},{key:"status",value:function(){switch(this.props.dbStatus){case D.Unknown:return"The status is currently unknown. Would you like to check?";case D.Created:return"The database is created and awaiting requests.";case D.DoesNotExist:return"The database does not exist. You should initialize it if you would like to use it."}}},{key:"render",value:function(){return o.a.createElement("div",{className:"status-container"},this.renderCheck(),o.a.createElement("h2",null,"Database Status:"),o.a.createElement("p",{className:"status"},this.status()))}}]),a}(o.a.Component)),F={updateCurrentProject:function(e){return{type:"UPDATE_CURRENT_PROJECT",currentProject:e}},updateCurrentIteration:function(e){return{type:"UPDATE_CURRENT_ITERATION",currentIteration:e}}},B=Object(y.b)((function(e){return{projects:e.projects,iterations:e.iterations,currentProject:e.currentProject,currentIteration:e.currentIteration}}),F),G=B(function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"project-iteration-selector"},o.a.createElement("div",{className:"project-iteration-description"},"Project Name: Iteration"),o.a.createElement("div",null,o.a.createElement("select",{className:"project-selector",onChange:function(t){return e.props.updateCurrentProject(e.props.projects[t.target.selectedIndex])}},this.props.projects.map((function(e,t){return o.a.createElement("option",{key:e.Name,value:e.Name},e.Name)}))),o.a.createElement("span",{className:"separator"},":"),o.a.createElement("select",{className:"iteration-selector",onChange:function(t){return e.props.updateCurrentIteration(parseInt(t.target.value))}},function(e,t){for(var a=[],n=0;n<e;n++)a.push(t(n));return a}(this.props.iterations,(function(e){return o.a.createElement("option",{key:e,value:e},e+1)})))))}}]),a}(o.a.Component)),J=a(22),q={loggedIn:!1,dbStatus:D.Unknown,projects:[],iterations:3,currentProject:P.Create("",[]),currentIteration:0,spiData:null,students:[],accountBalances:[]};var W=a(92),z=Object(J.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,a=function(t){return Object.assign({},e,t)};switch(t.type){case"LOGIN":var n=t;return a({loggedIn:n.loggedIn});case"LOGOUT":var r=t;return a({loggedIn:r.loggedIn});case"UPDATE_DB_STATUS":var o=t;return a({dbStatus:o.dbStatus});case"UPDATE_PROJECTS":var c=t;return a({projects:c.projects,currentProject:c.currentProject});case"UPDATE_ITERATIONS":var s=t;return a({iterations:s.iterations,currentIteration:s.iteration});case"UPDATE_CURRENT_PROJECT":var i=t;return a({currentProject:i.currentProject});case"UPDATE_CURRENT_ITERATION":var u=t;return a({currentIteration:u.currentIteration});case"UPDATE_SPI_DATA":var l=t;return a({spiData:l.spiData});case"UPDATE_STUDENTS":var p=t;return a({students:p.students});case"UPDATE_BALANCES":var d=t;return console.log(d.accountBalances),a({accountBalances:d.accountBalances});default:return e}}),Object(J.c)(Object(J.a)(W.a))),Z={updateProjects:R},V=Object(y.b)((function(e){return{projects:e.projects}}),Z),Y=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).inputElem=o.a.createRef(),n.tagInputElem=o.a.createRef(),n.state={selected:!1,editing:!1,val:e.project.Name},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("li",{className:this.props.selected?"update-project selected":"update-project",onClick:function(t){t.stopPropagation(),e.props.select((function(){}))}},o.a.createElement("div",{className:"project-name"},o.a.createElement("input",{type:"text",value:this.state.val,disabled:!this.state.editing,ref:this.inputElem,onChange:function(t){return e.setState({val:t.target.value})}}),o.a.createElement("button",{className:"danger",onClick:function(){return e.props.delete()}},"Delete"),o.a.createElement("button",{disabled:this.state.editing,onClick:function(){e.setState({editing:!0},(function(){var t;return null===(t=e.inputElem.current)||void 0===t?void 0:t.focus()}))}},"Edit"),o.a.createElement("button",{disabled:!this.state.editing,onClick:function(){e.props.update(P.Create(e.state.val,e.props.project.TaskTags)),e.setState({editing:!1})}},"Save"),o.a.createElement("button",{disabled:!this.state.editing,onClick:function(){e.setState({val:e.props.project.Name,editing:!1})}},"Cancel")),o.a.createElement("div",{className:this.props.selected?"project-tags":"hide"},o.a.createElement("h4",null,"Tags for tasks related to this project:"),o.a.createElement("ul",null,this.props.project.TaskTags.map((function(t){return o.a.createElement("li",{key:t},t,o.a.createElement("button",{className:"danger small",onClick:function(){e.props.update(P.Create(e.props.project.Name,e.props.project.TaskTags.filter((function(e){return e!==t}))))}}," Delete "))})),o.a.createElement("li",null,o.a.createElement("input",{type:"text",placeholder:"New Tag Name Here...",ref:this.tagInputElem}),o.a.createElement("button",{onClick:function(){e.tagInputElem.current&&""!==e.tagInputElem.current.value&&-1===e.props.project.TaskTags.indexOf(e.tagInputElem.current.value)&&(e.props.update(P.Create(e.props.project.Name,[].concat(Object(u.a)(e.props.project.TaskTags),[e.tagInputElem.current.value]))),e.tagInputElem.current.value="")}}," Add ")))))}}]),a}(o.a.Component),$=V(function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).newInput=o.a.createRef(),n.state={selected:-1},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"status-container",onClick:function(){e.setState({selected:-1})}},o.a.createElement("h2",null,"Current Projects:"),o.a.createElement("ul",{className:"projects"},this.props.projects.map((function(t,a){return o.a.createElement(Y,{project:t,selected:a===e.state.selected,delete:function(){z.dispatch(function(){var a=Object(b.a)(v.a.mark((function a(n){var r,o;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.Name,o=P.Create(r,t.TaskTags),a.prev=2,a.next=5,null===N||void 0===N?void 0:N.deleteEntity(o);case 5:n(e.props.updateProjects(e.props.projects.filter((function(e){return e.Name!==o.Name})))),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),alert("Could not delete project. Send error output to Riley or debug: ".concat(a.t0,"."));case 11:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}())},update:function(a){z.dispatch(function(){var n=Object(b.a)(v.a.mark((function n(r){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.Name!==a.Name||t.TaskTags.length!==a.TaskTags.length){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,null===N||void 0===N?void 0:N.deleteEntity(t);case 5:return n.next=7,null===N||void 0===N?void 0:N.put(a);case 7:r(e.props.updateProjects([].concat(Object(u.a)(e.props.projects.filter((function(e){return e.Name!==a.Name}))),[a]))),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),alert("Could not update project. Send error output to Riley or debug: ".concat(n.t0,"."));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}())},select:function(t){e.setState({selected:a},t)},key:t.Name})})),o.a.createElement("li",null,o.a.createElement("input",{ref:this.newInput,type:"text",placeholder:"New Project Name..."}),o.a.createElement("button",{onClick:function(){z.dispatch(function(){var t=Object(b.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.newInput.current||""===e.newInput.current.value.trim()){t.next=12;break}return t.prev=1,n=P.Create(e.newInput.current.value,[]),t.next=5,null===N||void 0===N?void 0:N.put(n);case 5:a(e.props.updateProjects([].concat(Object(u.a)(e.props.projects),[n]))),e.newInput.current.value="",t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),alert("Could not add project. Send error output to Riley or debug: ".concat(t.t0,"."));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())}},"Add"))))}}]),a}(o.a.Component)),Q=Object(y.b)((function(e){return{currentProject:e.currentProject,currentIteration:e.currentIteration,spiData:e.spiData,students:e.students}}),{})(function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).tableRef=o.a.createRef(),n.state={displayTable:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"table-container"},o.a.createElement("div",{className:"table-description"},o.a.createElement("button",{className:"right safe",onClick:function(){e.setState({displayTable:!e.state.displayTable})}},"Display"),o.a.createElement("h2",null,this.props.currentProject.Name," : ",this.props.currentIteration+1),o.a.createElement("p",null,"Below is the data collected for iteration [",this.props.currentIteration+1,"] of project [",this.props.currentProject.Name,"].")),o.a.createElement("table",{className:this.state.displayTable?"":"hide",ref:this.tableRef},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"WUSTL Key"),o.a.createElement("th",null,"HIT 1"),o.a.createElement("th",null,"HIT 1 Count"),o.a.createElement("th",null,"HIT 2"),o.a.createElement("th",null,"Hit 2 Count"),o.a.createElement("th",null,"HIT 3"),o.a.createElement("th",null,"Hit 3 Count"))),o.a.createElement("tbody",null,this.props.students.map((function(t,a){var n={name1:"none",name2:"none",name3:"none",count1:0,count2:0,count3:0};if(e.props.spiData){var r=e.props.spiData[t.wustlKey];if(void 0!==r){var c=r[e.props.currentProject.Name];if(void 0!==c){var s=c[e.props.currentIteration];void 0!==s&&(n=s)}}}return o.a.createElement("tr",{key:a},o.a.createElement("th",null,t.wustlKey),o.a.createElement("td",null,n.name1),o.a.createElement("td",null,n.count1),o.a.createElement("td",null,n.name2),o.a.createElement("td",null,n.count2),o.a.createElement("td",null,n.name3),o.a.createElement("td",null,n.count3))})))))}}]),a}(o.a.Component)),X=a(32),ee=a(94),te=a(48),ae="us-east-1:b69d4b85-5cd8-4a07-aabf-e730ede479d9";te.config.region="us-east-1",te.config.credentials=new te.CognitoIdentityCredentials({IdentityPoolId:ae});var ne,re=new X.c({UserPoolId:"us-east-1_B4YHaKqVR",ClientId:"15f397ambvh0db4i20usm454a0"}),oe=re.getCurrentUser(),ce=null,se=function(e){te.config.credentials=new te.CognitoIdentityCredentials({IdentityPoolId:ae,Logins:Object(i.a)({},"cognito-idp.".concat("us-east-1",".amazonaws.com/").concat("us-east-1_B4YHaKqVR"),e.getIdToken().getJwtToken())})},ie=function(){var e=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){te.config.credentials.refresh((function(a){a&&t(a),ce=new ee.AwsClient({secretAccessKey:te.config.credentials.secretAccessKey,accessKeyId:te.config.credentials.accessKeyId,sessionToken:te.config.credentials.sessionToken}),te.config.credentials.expired,e(!0)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){if(null===ce)throw new Error("AWS Fetch Client is null, cannot construct database connection.");!function(e){N=new x(e)}(ce)},le=function(){z.dispatch(function(){var e=Object(b.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.getProjectNames();case 3:a=e.sent,console.log(a),t(R(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),z.dispatch(function(){var e=Object(b.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(M({}))}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},pe=function(){oe=null,null,ce=null},de=function(){oe=null,null},me=function(){var e=Object(b.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t||""===a){e.next=9;break}return console.log(oe),null===oe&&(oe=new X.b({Username:t,Pool:re})),n=new X.a({Username:t,Password:a}),e.next=6,new Promise((function(e,t){var r;null===(r=oe)||void 0===r||r.authenticateUser(n,{onSuccess:function(){var a=Object(b.a)(v.a.mark((function a(n){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,se(n),a.next=4,ie();case 4:ue(),le(),e(!0),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),de(),t(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}(),onFailure:function(e){de(),t(e)},newPasswordRequired:function(n,r){var o;return null===(o=oe)||void 0===o?void 0:o.completeNewPasswordChallenge(a,r,{onSuccess:function(t){t,e(!0)},onFailure:function(e){de(),t(e)}})}})}));case 6:return e.abrupt("return",e.sent);case 9:return e.next=11,new Promise((function(e,t){null!==oe?oe.getSession(function(){var a=Object(b.a)(v.a.mark((function a(n,r){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!r){a.next=17;break}return a.prev=1,se(r),a.next=5,ie();case 5:ue(),le(),e(!0),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(1),de(),console.log(a.t0),t(a.t0);case 15:a.next=19;break;case 17:de(),t(n);case 19:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()):(de(),t("No user session."))}));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),fe=function(){var e=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oe){e.next=4;break}return e.next=3,new Promise((function(e,t){try{var a;null===(a=oe)||void 0===a||a.signOut(),pe(),e(!0)}catch(n){pe(),t(n)}}));case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he={login:function(){return{type:"LOGIN",loggedIn:!0}},logout:function(){return{type:"LOGOUT",loggedIn:!1}}},ve=Object(y.b)((function(e){return{}}),he),be=ve(function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).usernameField=o.a.createRef(),n.passwordField=o.a.createRef(),me("","").then((function(e){e&&n.props.login()}),(function(e){})).catch((function(e){})),n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"login-container"},o.a.createElement("form",{onSubmit:function(){var t=Object(b.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!e.usernameField.current||!e.passwordField.current){t.next=6;break}return t.next=4,me(e.usernameField.current.value,e.passwordField.current.value);case 4:t.sent&&e.props.login();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},o.a.createElement("h1",null,"CSE 256 Console"),o.a.createElement("fieldset",null,o.a.createElement("label",null,"Username:"),o.a.createElement("input",{type:"text",placeholder:"Username...",ref:this.usernameField,autoComplete:"username"})),o.a.createElement("fieldset",null,o.a.createElement("label",null,"Password:"),o.a.createElement("input",{type:"password",placeholder:"Password...",ref:this.passwordField,autoComplete:"current-password"})),o.a.createElement("button",{className:"basic",type:"submit"}," Login ")))}}]),a}(o.a.Component)),ye=ve(function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("button",{className:"safe",onClick:Object(b.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe();case 2:if(!t.sent){t.next=4;break}e.props.logout();case 4:case"end":return t.stop()}}),t)})))}," Logout ")}}]),a}(o.a.Component)),Ee=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={display:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return this.props.display?o.a.createElement("div",{className:"button-with-description"},o.a.createElement("div",{className:"button-container"},o.a.createElement("button",{onClick:this.props.onClick,className:this.props.buttonClass},this.props.buttonTitle),o.a.createElement("button",{className:"info",onClick:function(){return e.setState({display:!e.state.display})}},"Info")),o.a.createElement("div",{className:this.state.display?"action-description":"action-description hide"},this.props.description)):null}}]),a}(o.a.Component),je=a(512),ge={updateStudents:U},ke=Object(y.b)((function(e){return{students:e.students}}),ge);!function(e){e.NO_UPLOAD="No file has been uploaded yet.",e.SUCCESS="File has been successfully uploaded and parsed.",e.FAILURE="The file that was uploaded could not be parsed or did not validate."}(ne||(ne={}));var Ne,Oe=ke(function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={fileUploaded:ne.NO_UPLOAD},n}return Object(p.a)(a,[{key:"validateStudents",value:function(e){return e.length>1&&"WUSTL Key"===e[0][0].trim()&&"AWS IAM ID"===e[0][1].trim()&&"AWS IAM SECRET"===e[0][2].trim()&&e.every((function(e){return 3===e.length}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"student-file-input"},o.a.createElement("div",null,o.a.createElement("h3",null,this.state.fileUploaded),o.a.createElement(we,{onFileChange:function(t){e.validateStudents(t)?(e.props.updateStudents(t.slice(1).map((function(e){return{wustlKey:e[0].trim(),id:e[1].trim(),secret:e[2].trim()}}))),e.setState({fileUploaded:ne.SUCCESS})):e.setState({fileUploaded:ne.FAILURE})}})))}}]),a}(o.a.Component)),we=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).fileInput=o.a.createRef(),e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("form",null,o.a.createElement("input",{ref:this.fileInput,type:"file",accept:"text/csv",className:"input-file",name:"student-input",id:"student-input",onChange:function(t){var a,n=null===(a=t.target.files)||void 0===a?void 0:a.item(0);if(n){var r=new FileReader;r.onloadend=function(){r.readyState===FileReader.DONE&&je(r.result,{},(function(t,a){t?alert("Could not parse file correctly. Error: ".concat(t,".")):(console.log(a),e.props.onFileChange(a))}))},r.readAsText(n,"utf-8")}}}),o.a.createElement("label",{className:"student-input",htmlFor:"student-input"},"Input File of Student Credentials Here..."))}}]),a}(o.a.Component),Te={updateStudents:U,updateSPIData:M},xe=Object(y.b)((function(e){return{currentIteration:e.currentIteration,currentProject:e.currentProject,students:e.students,spiData:e.spiData}}),Te);!function(e){e[e.LOADING=0]="LOADING",e[e.NOT_GENERATED=1]="NOT_GENERATED",e[e.GENERATED=2]="GENERATED"}(Ne||(Ne={}));var Ce,Pe=xe(function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"threeRands",value:function(e){if(e<3)return[0,0,0];for(var t=[-1,-1,-1],a=0;-1!==t.indexOf(-1);){var n=Math.floor(Math.random()*Math.floor(e));-1===t.indexOf(n)&&(t[a]=n,a+=1)}return t}},{key:"generate",value:function(){var e=this;if(null===this.props.spiData&&alert("Cannot generate when data has not been loaded from database."),0!==this.props.currentProject.TaskTags.length){var t={};Object.assign(t,this.props.spiData),this.props.students.forEach((function(a){var n=t[a.wustlKey];void 0===n&&(n={},t[a.wustlKey]=n);var r=n[e.props.currentProject.Name];for(void 0===r&&(r=[],n[e.props.currentProject.Name]=r);r.length<=e.props.currentIteration;)r.push({name1:"none",name2:"none",name3:"none",count1:0,count2:0,count3:0});var o=e.threeRands(e.props.currentProject.TaskTags.length).map((function(t){return e.props.currentProject.TaskTags[t]}));r[e.props.currentIteration]={name1:o[0],name2:o[1],name3:o[2],count1:0,count2:0,count3:0},console.log(r[r.length-1])})),this.props.updateSPIData(t)}else alert("Cannot generate task assignment when no tasks exist for this project. Add tags to this project on Semester Setup > Change Project.")}},{key:"render",value:function(){var e=this,t=null===this.props.spiData?Ne.LOADING:this.props.students.some((function(t){var a=e.props.spiData[t.wustlKey];if(a){var n=a[e.props.currentProject.Name];if(n)return void 0!==n[e.props.currentIteration]}return!1}))?Ne.GENERATED:Ne.NOT_GENERATED;return o.a.createElement("div",{className:"flex-actions"},o.a.createElement("div",{className:t===Ne.LOADING?"":"hide"},o.a.createElement("h3",null,"The necessary data to display the available actions has not loaded from the database yet. If the database is properly configured and running this page will automatically refresh when the data is loaded.")),o.a.createElement(Ee,{buttonTitle:"Generate",description:"This button will generate the HIT assignments for all students. Nothing that is already in the database will be changed, modified, or destroyed by this action. Use this button once for each iteration of each project. This will generate a set of HITs for each student to perform for the requested iteration.",buttonClass:"safe",onClick:function(){e.generate()},display:t===Ne.NOT_GENERATED}),o.a.createElement(Ee,{buttonTitle:"Regenerate",description:"This button will REGENERATE the HIT assignments for all students. This will generate a new list of tasks for each student for this iteration and overwrite them in the database. Only run this if HITs have not already been submitted to MTurk. If they have do not run this or it will be impossible to connect logs generated from MTurk to the student that that log belongs to.",buttonClass:"danger",onClick:function(){e.generate()},display:t===Ne.GENERATED}))}}]),a}(o.a.Component)),Se=Object(y.b)((function(e){return{balances:e.accountBalances}}),{})(function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.balances===[]&&z.dispatch(_())}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"act basic refresh",onClick:function(){return z.dispatch(_())}}," Refresh "),o.a.createElement("table",{className:"component"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"WUSTL Key"),o.a.createElement("th",null,"Balance"),o.a.createElement("th",null,"Ready for Submission"))),o.a.createElement("tbody",null,this.props.balances.sort((function(e,t){var a=parseFloat(e.balance),n=parseFloat(t.balance);return a<=9.99&&n<=9.99?0:a<=9.99?-1:1})).map((function(e){var t=parseFloat(e.balance)>9.99;return o.a.createElement("tr",{key:e.wustlKey},o.a.createElement("th",null,e.wustlKey),o.a.createElement("td",null,e.balance),o.a.createElement("td",{className:t?"ready":"not-ready"},t?"Ready":"Not Ready"))})))))}}]),a}(o.a.Component)),De=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),n=t.call(this,e),console.log("tab created"),n.props.tabRef.tab=Object(f.a)(n),n.state={index:0},n}return Object(p.a)(a,[{key:"displayName",value:function(e){var t=this.props.actions.findIndex((function(t){return t.urlName===e}));t>=0&&this.display(t)}},{key:"display",value:function(e){this.setState({index:e})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:this.props.display?"tab":"tab hide"},o.a.createElement("div",{className:"tab-content"},o.a.createElement("div",{className:"sidebar"},[].concat(Object(u.a)(this.props.actions.map((function(t,a){return o.a.createElement("button",{className:a===e.state.index?"action active":"action",onClick:function(){return e.display(a)},key:a},t.name)}))),[o.a.createElement("div",{className:"sidebar-filler",key:this.props.actions.length}," ")])),o.a.createElement("div",{className:"output-container"},o.a.createElement("div",{className:"output"},this.props.children?this.props.children:null,this.props.actions.map((function(t,a){return o.a.createElement("div",{className:a===e.state.index?"component-wrapper":"component-wrapper hide",key:a},o.a.createElement("div",{className:"tab-header"},o.a.createElement("h1",null,t.name),o.a.createElement("p",{className:"description"},t.description)),t.component)}))))))}}]),a}(o.a.Component),Ie=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement(De,{tabRef:this.props.tabRef,display:this.props.display,actions:[{urlName:"clear_db",name:"Clear Database",description:"Deletes all data from the database that is specific to a semester. Retains login data and other non-semester specific data.",component:o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(Ee,{buttonTitle:"Clear Database",description:"Clicking this button will delete all data from the database that is not meant to be carried over. This includes: HIT assignments, Student ID to HIT ID mappings and more. Click this button once the semester is completely over and you are ready to clean out all of the old data.",buttonClass:"danger",onClick:function(){},display:!0})),o.a.createElement(H,null))},{urlName:"change_projects",name:"Change Projects",description:"Allows you to view and change projects for this course.",component:o.a.createElement($,null)}]})}}]),a}(o.a.Component),Ke=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement(De,{tabRef:this.props.tabRef,display:this.props.display,actions:[{urlName:"generate_hits",name:"Generate HITs",description:"Generate HITs for each student. HITs will be generated based on current project and iteration as well as information about which HITs that they have had for previous iterations.",component:o.a.createElement("div",null,o.a.createElement(Pe,null),o.a.createElement(H,null),o.a.createElement(Q,null))},{urlName:"check_account_balances",name:"Check Account Balances",description:"Checks the account balances for all accounts in the uploaded credentials file.",component:o.a.createElement(Se,null)}]},o.a.createElement(G,null))}}]),a}(o.a.Component),Ae=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement(De,{tabRef:this.props.tabRef,display:this.props.display,actions:[]})}}]),a}(o.a.Component),Re=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement(De,{tabRef:this.props.tabRef,display:this.props.display,actions:[{urlName:"load_student_credentials",name:"Load Student Credentials",description:"Load in student credentials if you need to interact with students and/or their Mturk accounts.",component:o.a.createElement("div",null,o.a.createElement(Oe,null),o.a.createElement(Ee,{buttonTitle:"Download CSV Template...",description:"This will download a CSV Template that you can then fill out with student credentials. This template has correctly spelt and formatted headers so that there are no validation errors when uploading it later.",buttonClass:"safe",onClick:function(){var e="data:text/plain;charset=utf-8,"+encodeURIComponent("WUSTL Key,AWS IAM ID, AWS IAM SECRET\n"),t=document.createElement("a");t.style.display="none",t.href=e,t.download="student-credentials.csv",document.body.appendChild(t),t.click(),t.remove()},display:!0}))},{urlName:"logout",name:"Logout",description:"Use this to log out of the application.",component:o.a.createElement(ye,null)}]})}}]),a}(o.a.Component);!function(e){e.SessionManagement="session",e.HITManagement="deploy",e.PostHITManagement="post_deployment",e.SemesterManagement="semester_setup"}(Ce||(Ce={}));var Me=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).rs=new Array(Object.keys(Ce).length).fill((function(){return o.a.createRef()}),0,Object.keys(Ce).length).map((function(e){return e()})),n.state={currentActive:{index:0,navLocation:Ce.SemesterManagement}},n}return Object(p.a)(a,[{key:"updateActive",value:function(e,t){var a,n,r=this.state.currentActive;r.index!==e&&(null===(a=this.rs[r.index].current)||void 0===a||a.classList.remove("active"),null===(n=this.rs[e].current)||void 0===n||n.classList.add("active"),this.setState({currentActive:{index:e,navLocation:t}}),this.props.onUpdateActive(t))}},{key:"render",value:function(){var e=this;return o.a.createElement("nav",{className:"header"},[o.a.createElement("div",{className:"filler logo",key:-1},"CSE 256")].concat(Object(u.a)(this.rs.map((function(t,a){var n=a,r=Object.values(Ce)[n];return o.a.createElement("button",{ref:t,key:n,className:e.props.startNavLocation===r?"active":"",onClick:function(){return e.updateActive(n,r)}},r.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "))})))))}}]),a}(o.a.Component),Ue=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"footer"},o.a.createElement("div",{className:"attribution"},"Icons made by\xa0",o.a.createElement("a",{href:"https://www.flaticon.com/authors/google",title:"Google"},"Google"),"\xa0from\xa0",o.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")))}}]),a}(o.a.Component),_e=Object(y.b)((function(e){return{loggedIn:e.loggedIn}}),{}),Le=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n,r;return Object(l.a)(this,a),(r=t.call(this,e)).rs=(n={},Object(i.a)(n,Ce.SemesterManagement,{tab:void 0}),Object(i.a)(n,Ce.HITManagement,{tab:void 0}),Object(i.a)(n,Ce.PostHITManagement,{tab:void 0}),Object(i.a)(n,Ce.SessionManagement,{tab:void 0}),n),r.state={navLocation:Ce.SessionManagement},r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=location.hash;if(""!==t){var a=t.split(".");if(!(a.length>=3)){var n=a[0].slice(1),r=2===a.length?a[1]:"";Object.values(Ce).includes(n)&&this.setState({navLocation:n},(function(){console.log(n+" "+e.rs[n].tab),e.rs[n].tab.displayName(r)}))}}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"app"},o.a.createElement(Me,{startNavLocation:this.state.navLocation,onUpdateActive:function(t){return e.setState({navLocation:t})}}),o.a.createElement(Re,{tabRef:this.rs[Ce.SessionManagement],display:this.state.navLocation===Ce.SessionManagement}),o.a.createElement(Ke,{tabRef:this.rs[Ce.HITManagement],display:this.state.navLocation===Ce.HITManagement}),o.a.createElement(Ae,{tabRef:this.rs[Ce.PostHITManagement],display:this.state.navLocation===Ce.PostHITManagement}),o.a.createElement(Ie,{tabRef:this.rs[Ce.SemesterManagement],display:this.state.navLocation===Ce.SemesterManagement}),o.a.createElement(Ue,null))}}]),a}(o.a.Component),He=_e(function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return this.props.loggedIn?o.a.createElement(Le,null):o.a.createElement("div",{className:"app"},o.a.createElement(be,null))}}]),a}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(y.a,{store:z},o.a.createElement(He,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,t,a){e.exports=a(534)}},[[95,1,2]]]);
//# sourceMappingURL=main.3b9e92fe.chunk.js.map